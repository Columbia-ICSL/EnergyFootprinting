<!doctype>
<html>
<head>
<title> Personal Energy Footprint html frontend</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<script type="text/javascript">
var query=(function(s){
  var loc=s.indexOf('?');
  if(loc==-1)return {};
  var q=s.substr(loc+1);
  var ret={};
  q.split('&').map(function(part){
    var array=part.split('=');
    var key=decodeURIComponent(array[0]), value=decodeURIComponent(array.slice(1).join("="));
    ret[key]=value;
  });
  return ret;
})(location.href);

var personID=query['id'];

//var maxLen=(20*60/10);//20mins, every 10s
//var reqTime=3*1000;
var onLoadCallback=function(){

}
window.onload=onLoadCallback;
</script>
<style>
/*div {border:1px dashed red;}
(debug)
*/
body {
  width:100%;
  height:100%;
  padding:0;
  font-family: Helvetica, sans-serif;
}
.blue {background-color:blue;}
.red {background-color:red;}
.green {background-color:green;}
.orange {background-color:#f80;}

.f_left {
  float:left;
}
.f_right {
  float:right;
}
#head {
  position:fixed;
  height:15%;top:5%;
  width:80%;left:10%;
}
#headLeft, #headRight{
  width:40%;
  height:100%;
  text-align: center;
}
.headTitle{
  font-family: Helvetica, sans-serif;
  width:100%;
  display: block;
  font-size: 16pt;
  color: white;
  text-align: center;
  margin-bottom: 8pt;
}
.headBody{
  font-family: Helvetica, sans-serif;
  padding:8px;
  font-size: 20pt;
  color: #66f;
  background:#ddd;
  text-align: center;
  margin:auto;
}


#figure {
  position:fixed;
  height:70%;top:25%;
  width:80%;left:10%;
  border-left:1pt solid black;
}
.bar{
  height:25%;
  width:100%;
}
.bar .fill {
  height:12%;
  margin-top:7%;
  min-width:10%;
  position: absolute;
  opacity:0.5;
}
.bar .name {
  position: absolute;
}

#barHighest .fill{
  width:80%;
}
#barMedian .fill{
  width:50%;
}
#barYou .fill{
  width:70%;
}
/*
  Initial (error) state, removed using JS later.
*/
#figure{
  background: white;
  -webkit-filter: blur(5px);
  filter: blur(5px);
}
#figureCover{
  position:fixed;
  height:70%;top:25%;
  width:80%;left:10%;
  z-index:1;
}
#figureCover #questionMark {
  font-size:160pt;
  font-family: Verdana, sans-serif;
  color: rgba(255,50,150,0.7);
  display: block;
  text-align: center;
}
#figureCover #message{
  color: rgba(30,50,155,1);
}
</style>
</head>
<body>
  <div id="head">
    <div id="headLeft" class="f_left">
      <span class="headTitle">Footprint</span>
      <span class="headBody">0.00&nbsp;Watts</span>
    </div>
    <div id="headRight" class="f_right">
      <span class="headTitle">Share</span>
      <span class="headBody">0.00%</span>
    </div>
  </div>
  <div id="figure">
    <div class="bar" id="barLowest">
      <div class="fill green"></div>
      <span class="name">Lowest: 0.00W</span>
    </div>

    <div class="bar" id="barYou">
      <div class="fill blue"></div>
      <span class="name">You</span>
    </div>


    <div class="bar" id="barMedian">
      <div class="fill orange"></div>
      <span class="name">Median</span>
    </div>


    <div class="bar" id="barHighest">
      <div class="fill red"></div>
      <span class="name">Highest: 0.00W</span>
    </div>
  </div>

  <div id="figureCover">
    <span id="questionMark">?</span>
    <span id="message">
      Sorry, your current energy footprint data is temporarily unavailable. Please check back later!
      <br/>
      <em>Please make sure you're in NWC and enabled Bluetooth on your device.<em/>
    </span>
  </div>


</body>
</html>

