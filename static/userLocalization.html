<!doctype>
<html>
<head>
<title> Building Energy Footprinting Localization </title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/zepto/1.1.6/zepto.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/zepto/1.1.6/modules/fx.min.js"></script>
<script type="text/javascript">
$(function(){
        $('#reload').click(function(){
                $.get('/api/appSupport/localization/',
                {},
                function(payload){
                        console.log('Received data',payload);
			var obj = payload;
                        var data = [];
			var ul = document.getElementById("list");
			$("ul").empty();
			for (var key in obj) {
			var item = document.createElement("ul");
			item.appendChild(document.createTextNode(key));
			var newItem = document.createElement("li");
			newItem.appendChild(document.createTextNode(payload[key][0]));
			var locationItem = document.createElement("li");
			locationItem.appendChild(document.createTextNode(payload[key][1]));
			item.appendChild(newItem);
			item.appendChild(locationItem);
			ul.appendChild(item);
			
			/*	data.push({id:key,
					power:payload[key][0],
					loc:payload[key][1]
				});*/
			}
                },
                'json');
        }).click();
});
</script>
<style type="text/css">
ul li {
        margin-bottom: 4px;
}
ul li:nth-child(odd) {
   background-color: #ccc;
}
ul li:nth-child(even) {
   background-color: #aff;
}
</style>
</head>
<body>
<h1>Building Energy Footprinting Localization Page</h1>
<button id="reload">Reload</button>
<ul id="list">

</ul>
</body>
</html>
